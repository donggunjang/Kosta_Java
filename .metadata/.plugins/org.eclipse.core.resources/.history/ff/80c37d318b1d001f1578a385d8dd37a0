package com.kosta.game5;

import java.awt.Graphics;
import java.awt.event.KeyEvent;
import java.awt.event.KeyListener;
import javax.swing.JPanel;

public class MyPanel extends JPanel implements KeyListener {
	//사용자, 적, 미사일 맴버로 초기화
	Enermy enermy;
	Player player;
	Missile missile;
	public MyPanel() {
		addKeyListener(this);
		requestFocus();
		setFocusable(true);
		
		//화면에 보여줄 사용자, 적, 미사일의 객체들을 생성
		enermy = new Enermy("enermy.png");
		player = new Player("player.png");
		missile = new Missile("missile.png");
		//사용자, 적, 미사일이 다들 따로 움직여야 해서 쓰레드를 만들어준다.
		class MyThread extends Thread{
			public void run() {
				while(true) {
					enermy.update();
					player.update();
					missile.update();
					repaint();
					try {
						Thread.sleep(50);
					}catch( InterruptedException e) {}
				}
			}
		}
		Thread t = new MyThread();
		t.start();
	}
	public void paint(Graphics g) {
		super.paint(g);
		enermy.draw(g);
		player.draw(g);
		missile.draw(g);
	}
	@Override
	public void keyTyped(KeyEvent e) {
		
	}
	@Override
	public void keyReleased(KeyEvent e) {
		
	}
	@Override
	public void keyPressed(KeyEvent event) {
		player.KeyPressed(event);
		missile.KeyPressed(event, player.x, player.y);
		
	}
	
}
